{% extends "base.html" %}

{% block title %}Tax Calculator - Income Tax Calculator{% endblock %}

{% block content %}
<div class="calculator-container">
    <div class="card">
        <div class="card-header">
            <h2>Income Tax Calculator</h2>
        </div>
        <div class="card-body">
            <form id="tax-calculator-form">
                <div class="form-group">
                    <label for="annual_income">Annual Income</label>
                    <div class="input-group">
                        <span class="input-group-text">₹</span>
                        <input type="number" class="form-control" id="annual_income" name="annual_income" required min="0" step="1000">
                    </div>
                </div>

                <div class="form-group">
                    <label for="investments">Investments (Section 80C)</label>
                    <div class="input-group">
                        <span class="input-group-text">₹</span>
                        <input type="number" class="form-control" id="investments" name="investments" min="0" step="1000">
                    </div>
                    <small class="form-text text-muted">PPF, ELSS, Life Insurance Premium, etc. (Max: ₹1,50,000)</small>
                </div>

                <div class="form-group">
                    <label for="house_loan">Home Loan Interest (Section 24)</label>
                    <div class="input-group">
                        <span class="input-group-text">₹</span>
                        <input type="number" class="form-control" id="house_loan" name="house_loan" min="0" step="1000">
                    </div>
                    <small class="form-text text-muted">Interest paid on home loan (Max: ₹2,00,000)</small>
                </div>

                <div class="form-group">
                    <label for="medical_insurance">Medical Insurance (Section 80D)</label>
                    <div class="input-group">
                        <span class="input-group-text">₹</span>
                        <input type="number" class="form-control" id="medical_insurance" name="medical_insurance" min="0" step="1000">
                    </div>
                    <small class="form-text text-muted">Health Insurance Premium (Max: ₹25,000)</small>
                </div>

                <button type="submit" class="btn btn-primary btn-block mt-4">
                    <i class="ri-calculator-line"></i>
                    Calculate Tax
                </button>
            </form>

            <div id="tax-result" class="mt-4" style="display: none;">
                <h3>Tax Calculation Result</h3>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <td>Gross Income</td>
                                <td id="gross-income">₹0</td>
                            </tr>
                            <tr>
                                <td>Total Deductions</td>
                                <td id="total-deductions">₹0</td>
                            </tr>
                            <tr>
                                <td>Taxable Income</td>
                                <td id="taxable-income">₹0</td>
                            </tr>
                            <tr class="table-primary">
                                <td><strong>Total Tax</strong></td>
                                <td id="total-tax"><strong>₹0</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="mt-3">
                    <button class="btn btn-outline-primary" id="save-calculation">
                        <i class="ri-save-line"></i>
                        Save Calculation
                    </button>
                    <button class="btn btn-outline-success" id="download-report">
                        <i class="ri-file-download-line"></i>
                        Download Report
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header">
            <h3>Tax Saving Tips</h3>
        </div>
        <div class="card-body" id="tax-tips">
            <div class="alert alert-info">
                Calculate your tax to get personalized tax saving recommendations!
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.calculator-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.form-group {
    margin-bottom: 1.5rem;
}

.input-group-text {
    background-color: #f8f9fa;
    min-width: 45px;
    justify-content: center;
}

#tax-result table td {
    padding: 10px;
}

.btn i {
    margin-right: 8px;
}

.tax-tip {
    margin-bottom: 15px;
    padding: 15px;
    border-radius: 8px;
    background-color: #f8f9fa;
}

.tax-tip i {
    font-size: 20px;
    margin-right: 10px;
    color: #0d6efd;
}

.tax-tip .saving-amount {
    color: #198754;
    font-weight: bold;
}
</style>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/calculator.js') }}"></script>
{% endblock %}
